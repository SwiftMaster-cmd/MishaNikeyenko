/* /CSS/links.css -- sidebar-only layout (June 2025)
   ▸ All bookmarks live in #side-nav
   ▸ One vertical column per category
   ▸ Includes modal, picker, and helper rules                    */

/*──────────────── TOKENS ───────────────*/
@import url('variables.css');

/* helper */
.hidden{display:none!important}

/*──────────────── SIDEBAR LAYOUT ───────*/
.side-nav{
  position:fixed;
  top:var(--nav-h);
  left:0;
  height:calc(100% - var(--nav-h));
  width:260px;
  background:var(--clr-glass);
  border-right:1px solid var(--clr-border);
  backdrop-filter:blur(18px) saturate(1.3);
  overflow:hidden;                  /* scroll inner box, not the nav shell */
  transition:transform .25s;
}
.side-nav.open{transform:translateX(0)}
body.sidebar-open .main-card{margin-left:260px}

.nav-links{
  flex:1;
  padding:1.5rem 1rem;
  overflow-y:auto;                  /* scroll if links exceed viewport */
  display:flex;
  flex-direction:column;
  gap:1.6rem;
}
.nav-links-group{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}

/*──────────────── CATEGORY HEADER ─────*/
.category-title{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:.6rem;
  margin-bottom:.4rem;
}
.category-title h2{
  font-size:1rem;
  font-weight:600;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.cat-actions{
  display:flex;
  gap:.4rem;
}
button.ghost{
  background:transparent;
  border:none;
  color:var(--clr-muted);
  font-size:1rem;
  padding:.2rem;
  border-radius:8px;
  cursor:pointer;
  transition:background .2s,color .2s;
}
button.ghost:hover{
  background:rgba(255,255,255,.08);
  color:var(--clr-text);
}

/*──────────────── LINK ROW ────────────*/
.link-row{position:relative}
.link-main{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:.75rem .9rem;
  background:rgba(255,255,255,.06);
  border:1px solid var(--clr-border);
  border-radius:12px;
  color:var(--clr-text);
  font-size:.93rem;
  cursor:pointer;
  transition:background .25s;
}
.link-main:hover{background:rgba(255,255,255,.10)}
.link-main .title{
  flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.menu-btn{
  margin-left:.8rem;
  color:var(--clr-muted);
  opacity:0;
  transition:opacity .18s;
}
.link-main:hover .menu-btn{opacity:1}

/* dropdown menu within sidebar */
.menu{
  position:absolute;
  right:0;
  top:calc(100% + .3rem);
  min-width:220px;
  background:var(--clr-card);
  border:1px solid var(--clr-border);
  border-radius:var(--radius);
  padding:.75rem;
  display:flex;
  flex-direction:column;
  gap:.6rem;
  z-index:500;
}
.menu[hidden]{display:none!important}
.menu button{
  background:var(--clr-primary);
  color:#fff;
  border:none;
  border-radius:10px;
  padding:.55rem .9rem;
  font-size:.9rem;
  font-weight:600;
  cursor:pointer;
}
.menu-edit{background:#5b2ee5}
.menu-delete{background:#d32f2f}
.preview{
  word-break:break-all;
  font-size:.8rem;
  color:var(--clr-muted);
  margin-top:.4rem;
}

/*──────────────── ADD-FORM (still in <main>) ─────*/
#add-link-form{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr)) 90px;
  gap:1rem;
  margin:2rem auto;
  max-width:480px;
  overflow:hidden;
  max-height:420px;
  opacity:1;
  transform:translateY(0);
  transition:max-height .35s,opacity .28s,transform .28s;
}
#add-link-form.collapsed{
  max-height:0;opacity:0;transform:translateY(-10px);pointer-events:none;
}
#add-link-form input,#add-link-form select{
  padding:.85rem 1rem;
  background:rgba(255,255,255,.06);
  color:var(--clr-text);
  border:1px solid var(--clr-border);
  border-radius:12px;
}
.btn-solid{
  background:var(--clr-primary);
  color:#fff;
  border:none;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
}
.btn-solid:hover{background:#5b2ee5}

/*──────────────── OVERLAY MODAL ────────*/
#edit-overlay{
  position:fixed; inset:0;
  background:#0009;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;             /* above sidebar */
}
#edit-dialog{
  width:clamp(300px,90vw,420px);
  background:var(--clr-card);
  border:1px solid var(--clr-border);
  border-radius:18px;
  padding:2rem;
  display:flex;
  flex-direction:column;
  gap:1rem;
}
#edit-dialog input,#edit-dialog select{
  padding:.75rem 1rem;
  border:1px solid var(--clr-border);
  border-radius:12px;
  background:rgba(255,255,255,.06);
  color:var(--clr-text);
}
.actions{
  display:flex;
  gap:1rem;
  justify-content:flex-end;
}
#edit-save{background:var(--clr-primary);color:#fff;border:none;border-radius:12px;padding:.7rem 0;flex:1}
#edit-cancel{background:rgba(255,255,255,.15);color:var(--clr-text);border:none;border-radius:12px;padding:.7rem 0;flex:1}

/* prevent interaction/scroll when modal open */
body.modal-open{overflow:hidden}
body.modal-open .header-bar,
body.modal-open .side-nav,
body.modal-open .main-card{
  pointer-events:none;
}

/*──────────────── LIGHT MOTION ─────────*/
@keyframes fade{
  from{opacity:0}to{opacity:1}
}
.link-row{animation:fade .25s ease both}