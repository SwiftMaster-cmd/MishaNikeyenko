/* /CSS/links.css â€“ FINAL June 2025
   â€¢ 2 categories per row, 2 links per row inside each category
   â€¢ Category picker + in-dialog "new" input
   â€¢ Overlay stays hidden until JS removes the class       */

/*â”€â”€â”€â”€â”€â”€â”€â”€ TOKENS â”€â”€â”€â”€â”€â”€â”€â”€*/

@import url('variables.css');
/*â”€â”€â”€â”€â”€â”€â”€â”€ UNIVERSAL HIDDEN HELPER â”€â”€â”€â”€â”€â”€â”€â”€*/
.hidden{display:none!important;}   /* ðŸ”’ nothing can override */

/*â”€â”€â”€â”€â”€â”€â”€â”€ ADD-LINK FORM â”€â”€â”€â”€â”€â”€â”€â”€*/
#add-link-form{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr)) 90px;
  gap:1rem;
  margin-bottom:2.5rem;
  overflow:hidden;
  max-height:420px;
  opacity:1;
  transform:translateY(0);
  transition:max-height .35s,opacity .28s,transform .28s;
}
#add-link-form.collapsed{
  max-height:0;opacity:0;transform:translateY(-10px);pointer-events:none;
}
#add-link-form input{
  padding:.85rem 1rem;background:rgba(255,255,255,.06);
  color:var(--clr-text);border:1px solid var(--clr-border);
  border-radius:12px;font-size:.97rem;transition:border-color .25s,background .25s;
}
#add-link-form input::placeholder{color:var(--clr-muted)}
#add-link-form input:focus{
  outline:none;border-color:var(--clr-primary);background:rgba(255,255,255,.10);
}
.btn-solid{
  background:var(--clr-primary);color:#fff;font-weight:600;border:none;
  border-radius:12px;cursor:pointer;transition:background .25s,transform .15s;
}
.btn-solid:hover{background:#5b2ee5}
.btn-solid:active{transform:scale(.97)}

/*â”€â”€â”€â”€â”€â”€â”€â”€ EMPTY-STATE â”€â”€â”€â”€â”€â”€â”€â”€*/
.empty{opacity:.6;text-align:center;margin:2rem 0}

/*â”€â”€â”€â”€â”€â”€â”€â”€ CATEGORY GRID (max 2 across) â”€â”€â”€â”€â”€â”€â”€â”€*/
.links-grid{
  display:grid;
  gap:2.4rem;
  grid-template-columns:repeat(auto-fill,minmax(min(600px,50%),1fr));
}
@media(max-width:900px){.links-grid{grid-template-columns:1fr}}

/*â”€â”€â”€â”€â”€â”€â”€â”€ CATEGORY WRAPPER â”€â”€â”€â”€â”€â”€â”€â”€*/
.category-section{margin-bottom:2.4rem}

/*â”€â”€â”€â”€â”€â”€â”€â”€ TITLE BAR â”€â”€â”€â”€â”€â”€â”€â”€*/
.category-title{
  position:relative;text-align:center;width:100%;margin-bottom:1.4rem;
}
.category-title h2{
  display:inline-block;font-size:1.3rem;font-weight:700;padding:0 .5rem;
}
.cat-actions{
  position:absolute;right:0;top:50%;transform:translateY(-50%);
  display:flex;gap:.5rem;opacity:0;transition:opacity .18s;
}
.category-title:hover .cat-actions{opacity:1}
button.ghost{
  background:transparent;border:none;color:var(--clr-muted);
  font-size:1.05rem;padding:.25rem;border-radius:8px;cursor:pointer;
  transition:background .2s,color .2s;
}
button.ghost:hover{background:rgba(255,255,255,.08);color:var(--clr-text)}

/*â”€â”€â”€â”€â”€â”€â”€â”€ LINKS GRID (exactly 2-up) â”€â”€â”€â”€â”€â”€â”€â”€*/
.category-links{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:1.2rem;
}
@media(max-width:640px){.category-links{grid-template-columns:1fr}}

/*â”€â”€â”€â”€â”€â”€â”€â”€ LINK CARD â”€â”€â”€â”€â”€â”€â”€â”€*/
.link-row{position:relative;animation:fadeSlideIn .25s ease both;}
.link-main{
  width:100%;display:flex;justify-content:space-between;align-items:center;
  padding:.9rem 1rem;border-radius:12px;border:1px solid var(--clr-border);
  background:rgba(255,255,255,.06);color:var(--clr-text);font-size:.95rem;
  cursor:pointer;transition:background .25s;
}
.link-main:hover{background:rgba(255,255,255,.10)}
.link-main .title{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.menu-btn{margin-left:1rem;color:var(--clr-muted);opacity:0;transition:opacity .18s}
.link-main:hover .menu-btn{opacity:1}

/*â”€â”€â”€â”€â”€â”€â”€â”€ DROPDOWN MENU â”€â”€â”€â”€â”€â”€â”€â”€*/
.menu{
  position:absolute;right:0;top:calc(100% + .35rem);
  min-width:220px;background:var(--clr-card);border:1px solid var(--clr-border);
  border-radius:var(--radius);padding:.8rem;display:flex;flex-direction:column;
  gap:.6rem;z-index:50;
}
.menu[hidden]{display:none!important}
.menu button{
  background:var(--clr-primary);color:#fff;border:none;border-radius:10px;
  padding:.55rem .9rem;font-size:.9rem;font-weight:600;cursor:pointer;
}
.menu-edit{background:#5b2ee5}
.menu-delete{background:#d32f2f}
.preview{word-break:break-all;font-size:.8rem;color:var(--clr-muted);margin-top:.4rem}

/*â”€â”€â”€â”€â”€â”€â”€â”€ SIDEBAR AWARENESS â”€â”€â”€â”€â”€â”€â”€â”€*/
body.sidebar-open .main-card{
  margin-left:260px;
  max-width:calc(100% - 280px);
}

/*â”€â”€â”€â”€â”€â”€â”€â”€ ANIMATION â”€â”€â”€â”€â”€â”€â”€â”€*/
@keyframes fadeSlideIn{
  from{opacity:0;transform:translateY(8px)}
  to  {opacity:1;transform:none}
}

/*â”€â”€â”€â”€â”€â”€â”€â”€ EDIT MODAL â”€â”€â”€â”€â”€â”€â”€â”€*/
#edit-overlay{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:#0007;z-index:1500;
}
#edit-dialog{
  width:clamp(300px,90vw,420px);background:var(--clr-card);
  border:1px solid var(--clr-border);border-radius:18px;padding:2rem;
  display:flex;flex-direction:column;gap:1.1rem;
}
#edit-dialog input,#edit-dialog select{
  padding:.75rem 1rem;border:1px solid var(--clr-border);border-radius:12px;
  background:rgba(255,255,255,.06);color:var(--clr-text);
}
#edit-dialog .actions{display:flex;gap:1rem;justify-content:flex-end}
#edit-dialog .actions button{
  flex:1;padding:.7rem 0;border:none;border-radius:12px;font-weight:600;cursor:pointer;
}
#edit-save{background:var(--clr-primary);color:#fff}
#edit-cancel{background:rgba(255,255,255,.12);color:var(--clr-text)}

/*  â–¸ overlay always blocks clicks  */
#edit-overlay{
  pointer-events:auto;                /* capture every click */
}

/*  â–¸ while modal is open: no scroll, no clicks behind  */
body.modal-open{
  overflow:hidden;
}
body.modal-open .main-card,
body.modal-open .header-bar,
body.modal-open .side-nav{
  pointer-events:none;                /* freeze everything underneath   */
}