/* links.css -- sidebar-only view (June 2025) */

@import url('variables.css');
.hidden{display:none!important}

/* ── sidebar shell ───────────────────────────── */
.side-nav{
  position:fixed;top:var(--nav-h);left:0;
  width:260px;height:calc(100% - var(--nav-h));
  background:var(--clr-glass);
  border-right:1px solid var(--clr-border);
  backdrop-filter:blur(18px) saturate(1.3);
  transform:translateX(-100%);
  transition:transform .3s;
  display:flex;flex-direction:column;
}
.side-nav.open{transform:none}

body.sidebar-open .main-card{margin-left:260px}

/* ── scrollable link column ───────────────────── */
.nav-links{
  flex:1;overflow-y:auto;
  padding:1.4rem 1rem;
  display:flex;flex-direction:column;gap:1.6rem;
}
.nav-links-group{
  display:flex;flex-direction:column;gap:.8rem;
}

/* ── category header ─────────────────────────── */
.category-title{
  display:flex;justify-content:space-between;align-items:center;
  gap:.6rem;
}
.category-title h2{
  font-size:1rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.cat-actions{display:flex;gap:.4rem}
button.ghost{
  background:transparent;border:none;color:var(--clr-muted);
  font-size:1rem;padding:.2rem;border-radius:8px;cursor:pointer;
}
button.ghost:hover{background:rgba(255,255,255,.1);color:var(--clr-text)}

/* ── link row ─────────────────────────────────── */
.link-row{position:relative}
.link-main{
  width:100%;display:flex;justify-content:space-between;align-items:center;
  padding:.8rem .9rem;background:rgba(255,255,255,.06);
  border:1px solid var(--clr-border);border-radius:12px;
  color:var(--clr-text);font-size:.93rem;cursor:pointer;
}
.link-main:hover{background:rgba(255,255,255,.12)}
.link-main .title{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.menu-btn{margin-left:.8rem;color:var(--clr-muted);opacity:0;transition:opacity .18s}
.link-main:hover .menu-btn{opacity:1}

/* dropdown menu */
.menu{
  position:absolute;right:0;top:calc(100% + .3rem);
  min-width:220px;background:var(--clr-card);
  border:1px solid var(--clr-border);border-radius:var(--radius);
  padding:.8rem;display:flex;flex-direction:column;gap:.6rem;z-index:900;
}
.menu[hidden]{display:none!important}
.menu button{
  background:var(--clr-primary);color:#fff;border:none;border-radius:10px;
  padding:.55rem .9rem;font-size:.9rem;font-weight:600;cursor:pointer;
}
.menu-edit{background:#5b2ee5}
.menu-delete{background:#d32f2f}
.preview{word-break:break-all;font-size:.8rem;color:var(--clr-muted);margin-top:.4rem}

/* ── add-form tweaks (still in main) ─────────── */
#add-link-form{
  margin:2rem auto;max-width:480px;
  display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr)) 90px;
  gap:1rem;overflow:hidden;
}
#add-link-form.collapsed{max-height:0;opacity:0;pointer-events:none}

/* ── modal (edit) ─────────────────────────────── */
#edit-overlay{
  position:fixed;inset:0;background:#0009;
  display:flex;align-items:center;justify-content:center;z-index:9999;
}
#edit-dialog{
  width:clamp(300px,90vw,420px);background:var(--clr-card);
  border:1px solid var(--clr-border);border-radius:18px;padding:2rem;
  display:flex;flex-direction:column;gap:1rem;
}
#edit-dialog input,#edit-dialog select{
  padding:.75rem 1rem;background:rgba(255,255,255,.06);
  border:1px solid var(--clr-border);border-radius:12px;color:var(--clr-text);
}
.actions{display:flex;gap:1rem;justify-content:flex-end}
#edit-save{background:var(--clr-primary);color:#fff;border:none;border-radius:12px;flex:1}
#edit-cancel{background:rgba(255,255,255,.15);color:var(--clr-text);border:none;border-radius:12px;flex:1}

/* lock scroll & clicks while modal open */
body.modal-open{overflow:hidden}
body.modal-open .side-nav,body.modal-open .header-bar,body.modal-open .main-card{pointer-events:none}