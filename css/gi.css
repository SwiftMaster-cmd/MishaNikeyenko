/* Top-level controls row (filters, proposals, sales) */
.guestinfo-controls{
  display:flex;
  flex-wrap:wrap;
  gap:var(--space-sm);
  margin-bottom:var(--space-md);
}
.guestinfo-controls span{
  line-height:1.5;
  font-size:var(--fs-xs);
  color:var(--text-muted);
}

/* Proposal alert (collapsed view when proposals hidden) */
.guestinfo-proposal-alert{
  margin:var(--space-sm) 0;
  padding:var(--space-sm);
  border:1px solid var(--warning);
  border-radius:var(--radius-md);
  background:var(--warning-bg);
  color:var(--warning);
  font-weight:600;
  text-align:center;
  line-height:1.35;
}

/* Sales badge if you want to inline counts elsewhere */
.guestinfo-sales-badge{
  display:inline-block;
  padding:0 var(--space-sm);
  font-size:var(--fs-xs);
  line-height:1.4;
  border-radius:999px;
  background:var(--success-bg);
  color:var(--success);
  font-weight:600;
}

/* Status subsections (New / Working / Proposal / Sale view) */
.guestinfo-subsection{
  margin-top:var(--space-md);
}
.guestinfo-subsection>h3{
  font-size:var(--fs-md);
  font-weight:700;
  color:var(--text-hi);
  margin-bottom:var(--space-sm);
  display:flex;
  align-items:center;
  gap:var(--space-xs);
}
.guestinfo-subsection-empty{
  opacity:.7;
}
.guestinfo-subsection-highlight{
  border:1px solid var(--warning);
  padding:var(--space-sm);
  border-radius:var(--radius-md);
  background:var(--warning-bg);
}
.guestinfo-empty-msg{
  font-size:.95em;
  opacity:.7;
  padding:var(--space-sm);
  text-align:center;
}

/* Guest card container grid (subsection body) */
.guestinfo-container{
  display:grid;
  grid-template-columns:1fr;
  gap:var(--space-md);
  width:100%;
}
@media (min-width:640px){
  .guestinfo-container{
    grid-template-columns:repeat(auto-fit,minmax(min(340px,100%),1fr));
  }
}

/* Guest card shell */
.guest-card{
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:var(--radius-lg);
  padding:var(--space-lg);
  box-shadow:var(--shadow-card);
  transition:box-shadow var(--dur-med) var(--ease-out),background var(--dur-med) var(--ease-out);
  width:100%;
}
.guest-card:hover{box-shadow:var(--shadow-card-h);background:var(--bg-card-hover);}

/* Display rows */
.guest-card .guest-display>div{
  margin-bottom:var(--space-xs);
  font-size:var(--fs-sm);
  color:var(--text-med);
}
.guest-card .guest-display b{color:var(--text-hi);}
.guest-card .guest-sale-summary{
  margin-top:var(--space-xs);
  font-size:var(--fs-xs);
  color:var(--success);
}

/* Quick edit form (hidden by default; see .is-editing) */
.guest-edit-form{display:none;margin-top:var(--space-sm);padding-top:var(--space-sm);border-top:1px solid var(--border-color);font-size:var(--fs-sm);}
.guest-edit-form label{display:block;margin-bottom:var(--space-sm);}
.guest-edit-form input,
.guest-edit-form textarea{margin-top:var(--space-2xs);}
.guest-card.is-editing .guest-display{display:none;}
.guest-card.is-editing .guest-edit-form{display:block;}
.guest-card.is-editing{background:var(--bg-card-hover);box-shadow:var(--shadow-card-h);}

/* Action row */
.guest-card-actions{
  margin-top:var(--space-sm);
  display:flex;
  flex-wrap:wrap;
  gap:var(--space-xs);
}
@media (max-width:480px){
  .guest-card-actions .btn{width:100%;}
}

/* Optional grid field layout for denser displays */
.guest-card-fields {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:var(--space-sm) var(--space-md);
  margin-bottom:var(--space-sm);
}
.guest-card-field-label {
  display:block;
  font-size:var(--fs-xs);
  color:var(--text-muted);
  margin-bottom:var(--space-2xs);
  line-height:1.2;
}
.guest-card-field-value {
  display:block;
  font-size:var(--fs-sm);
  color:var(--text-med);
  overflow-wrap:anywhere;
  line-height:1.35;
}
@media (max-width:480px){
  .guest-card-fields{grid-template-columns:1fr;}
}

/* Sale pill (used in lists if desired) */
.sale-pill {
  display:inline-block;
  padding:0 var(--space-sm);
  margin-top:var(--space-xs);
  font-size:var(--fs-xs);
  line-height:1.5;
  border-radius:999px;
  background:var(--success-bg);
  color:var(--success);
  white-space:nowrap;
}
.sale-pill b{color:var(--success);font-weight:700;}

/* ==========================================================================
   Guest Info -- Search wrappers with clear ("Ã—") buttons
   ========================================================================== */

.guestinfo-controls .search-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.guestinfo-controls .search-wrapper input {
  padding-right: calc(var(--space-md) + var(--space-xs));
  /* ensure room for clear button */
  flex: 1;
}

.guestinfo-controls .search-wrapper .clear-btn {
  position: absolute;
  right: var(--space-xs);
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: var(--fs-sm);
  line-height: 1;
  color: var(--text-muted);
  cursor: pointer;
  padding: 0;
}

.guestinfo-controls .search-wrapper .clear-btn:hover {
  color: var(--text-hi);
}

/* ==========================================================================
   Guest Info -- Display two info rows side by side
   ========================================================================== */
.guest-card .guest-display {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-xs) var(--space-md);
}

/* On very narrow cards, fall back to one column */
@media (max-width: 480px) {
  .guest-card .guest-display {
    grid-template-columns: 1fr;
  }
}