<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OSL Admin Dashboard</title>

  <!-- Mobile viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <meta name="theme-color" content="#0f1117" />
  <meta name="color-scheme" content="dark light" />

  <link rel="stylesheet" href="../css/dashboard.css" />
  <style>
    /* Messages btn + badge lightweight styles (can move to dashboard.css) */
    .admin-header-actions{display:flex;align-items:center;gap:.5rem;}
    #messagesBtn{
      position:relative;
      padding:.25rem .75rem;
      font-size:.9rem;
      font-weight:600;
      border:1px solid rgba(255,255,255,.25);
      background:rgba(255,255,255,.05);
      color:#fff;
      border-radius:4px;
      cursor:pointer;
    }
    #messagesBtn:hover{background:rgba(255,255,255,.15);}
    #messagesBadge{
      position:absolute;
      top:-6px;right:-6px;
      min-width:18px;
      padding:0 4px;
      height:18px;
      line-height:18px;
      font-size:11px;
      font-weight:700;
      text-align:center;
      border-radius:9px;
      background:#ff5252;
      color:#fff;
      display:none;
    }
  </style>
</head>
<body>
<div class="admin-header">
  <h2>OSL Admin Dashboard</h2>
  <div style="display: flex; gap: 10px;">
    <button id="guestFormBtn" onclick="location.href='../guestform.html'">Guest Form</button>
    <button id="reviewFormBtn" onclick="location.href='../review.html'">Review Form</button>
    <button id="messagesBtn" class="admin-msg-btn">
      Messages
      <span id="messagesBadge" class="msg-badge"></span>
    </button>
    <button id="logoutBtn">Logout</button>
  </div>
</div>


  <div id="adminApp" class="admin-app-container"></div>

  <!-- Modal root (messages.js will populate) -->
  <div id="messagesModalRoot"></div>



  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- Core init FIRST -->
  <script src="./js/admin/admin.js"></script>

  <!-- Other modules (can read window.db that admin.js exports) -->
  <script src="../js/admin/users.js"></script>
  <script src="../js/admin/reviews.js"></script>
  <script src="../js/admin/stores.js"></script>
  <script src="../js/admin/guestform.js"></script>
  
  
  <script src="../js/gp/gp-core.js"></script>
<script src="../js/gp/gp-handoff.js"></script>
<script src="../js/gp/gp-app.js"></script>
<script src="../js/gp/gp-basics.js"></script>



  <script src="../js/admin/gi/gi-ui.js"></script>
    <script src="../js/admin/gi/gi-status.js"></script>
      <script src="../js/admin/gi/gi-actions.js"></script>



  <script src="../js/admin/gf/gf-handoff.js"></script>
    <script src="../js/admin/gf/gf-continue.js"></script>
  <script src="../js/admin/gf/gf-core.js"></script>

  <!-- Messages AFTER admin.js so firebase is ready -->
  <script src="../js/admin/messages.js"></script>

  <!-- Dashboard renderer last -->
  <script src="../js/admin/dashboard.js"></script>
</body>
</html>