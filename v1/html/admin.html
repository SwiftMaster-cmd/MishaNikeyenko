<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OSL Admin Dashboard</title>

  <!-- Mobile viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0f1117" />
  <meta name="color-scheme" content="dark light" />

  <link rel="stylesheet" href="../css/dashboard.css" />
  <link rel="stylesheet" href="../css/gi.css" />
</head>
<body>
  <div class="admin-header">
    <h2>OSL Admin Dashboard</h2>
    <div style="display: flex; gap: 12px;">
      <button id="guestFormBtn" onclick="location.href='../guestform.html'">Guest Form</button>
      <button id="reviewFormBtn" onclick="location.href='../review.html'">Review Form</button>
      <button id="messagesBtn" class="admin-msg-btn">
        Messages
        <span id="messagesBadge" class="msg-badge"></span>
      </button>
      <button id="logoutBtn">Logout</button>
    </div>
  </div>

  <div id="adminApp" class="admin-app-container" style="display: flex; flex-wrap: wrap; gap: 2rem; padding: 1rem;">
    <section id="usersContainer" style="flex: 1 1 300px; min-width: 280px; max-width: 400px; border: 1px solid #444; border-radius: 8px; padding: 1rem; background: #1e1e2f;">
      <h3>Users</h3>
    </section>

    <section id="reviewsContainer" style="flex: 1 1 300px; min-width: 280px; max-width: 400px; border: 1px solid #444; border-radius: 8px; padding: 1rem; background: #1e1e2f;">
      <h3>Reviews</h3>
    </section>

    <section id="storesContainer" style="flex: 1 1 300px; min-width: 280px; max-width: 400px; border: 1px solid #444; border-radius: 8px; padding: 1rem; background: #1e1e2f;">
      <h3>Stores</h3>
    </section>

    <section id="guestFormsContainer" style="flex: 1 1 600px; min-width: 580px; border: 1px solid #444; border-radius: 8px; padding: 1rem; background: #1e1e2f;">
      <h3>Guest Forms</h3>
    </section>

    <section id="guestInfoContainer" style="flex: 1 1 600px; min-width: 580px; border: 1px solid #444; border-radius: 8px; padding: 1rem; background: #1e1e2f;">
      <h3>Guest Info</h3>
    </section>
  </div>

  <div id="messagesModalRoot"></div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- Core init FIRST -->
  <script src="./js/admin/admin.js"></script>

  <!-- Other modules -->
  <script src="../js/admin/users.js"></script>
  <script src="../js/admin/reviews.js"></script>
  <script src="../js/admin/stores.js"></script>

  <!-- GuestInfo â€“ ES modules -->
  <script type="module" src="../js/admin/gi/gi-container.js"></script>
  <script type="module">
    import { initGuestinfo } from '../js/admin/gi/gi-container.js';
    window.addEventListener('DOMContentLoaded', () => {
      initGuestinfo();
      if (typeof window.renderAdminApp === 'function') {
        window.renderAdminApp();
      }
    });
  </script>

  <!-- Guest-Form modules -->
  <script src="../js/admin/gf/gf-core.js"></script>
  <script src="../js/admin/gf/gf-continue.js"></script>
  <script src="../js/admin/gf/gf-handoff.js"></script>

  <!-- Messages AFTER admin.js -->
  <script src="../js/admin/messages.js"></script>

  <!-- Dashboard renderer last -->
  <script src="../js/admin/dashboard.js"></script>
</body>
</html>